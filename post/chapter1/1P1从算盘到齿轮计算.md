# 现代计算机的灵感来源：早期的计算工具

Hello World！我是老乔，欢迎超智星球，每篇文章学一个小知识。

最近天天跟"计算"打交道了，各种分布式、调度、多线程之类的概念。这促使我啊，对计算机的原理，再走一遍。

## 前言-内容概括

虽然电子计算机出现不久(“ENIAC”于1946--2020，74年左右)，相比人类历史非常短暂，但人类对计算的需求早就有了。

与之相应的，计算工具的演化也经历了由简单到复杂、从低级到高级的不同阶段，例如从“结绳记事”中的绳结到算筹、算盘计算尺、机械计算机等。

它们在不同的历史时期发挥了各自的历史作用，同时也启发了现代电子计算机的研制思想。

因此，本期就盘点一下，计算机的早期历史，我们应该从计算的起源讲起。

本节内容：“ENIAC”之前的计算机早期历史
提到的设备：算盘→步进计算器→自动提花编织机→差分机→分析机→打孔卡片制表机  
提到的人名：帕斯卡、莱布尼、杰卡德、巴贝奇、阿达、霍列瑞斯博士、IBM

本期知识点：
* 最早的计算设备是算盘，举例如何使用  
* 1613年，Computer一次出现，最初用于指代“计算工作者”
* 1642年，帕斯卡计算器是第一台机械计算器(机械的计算器、只能加减)
* 1694年，莱布尼茨步进计算器。第一个加减乘除的机器(原理是连续加减)  
* 1805年，法国机械师杰卡德 真正完成了”自动提花编织机“的制作
* 上述机器同时代，要快速计算弹道，主要是靠计算表。但每次改设计就需要一张新表  
* 1822年，巴贝奇提出了差分机，能计算多项式；构造差分机期间，想出了分析机, 分析机是通用计算机；Ada给分析机写了假想程序，因此成为了第一位程序员  
* 1890年，霍列瑞斯博士的打孔卡片制表机大大提升了人口普查的效率 
* 1896年，霍列瑞斯创办了制表机器公司（Tabulating Machine Company） 
* 1924年，上述公司与与其它机械制造商合并，成为国际商业机器公司——IBM

## 古代计算工具：算盘

在古时候，人们最早使用的计算工具可能是手指，英文单词“digit”既有“数字”的意思，又有“手指“的意思。古人用石头打猎，所以还有可能是石头来辅助计算。

但是呢，手指和石头有缺点啊，都太低效了。手指就10个，加上脚指头也才20。石头呢，带多了沉！揣兜里，费兜。

后来出现了"结绳记事"。缺点：结绳慢，绳子还有长度限制。

又不知过了多久，许多国家的人开始使用”筹码“来计数，最有名的就要数咱们中国商周时期出现的算筹了。

古代的算筹实际上是一根根同样长短和粗细的小棍子，大约二百七十几枚为一束; 多用竹子制成，也有用木头、兽骨、象牙、金属等材料制成的。数学家祖冲之计算圆周率时使用的工具就是算筹。 

算筹的缺点：使用算筹计算太麻烦了，很不方便——计算时需要慢慢摆放。

于是，人们发明了更好的计算工具——算盘，它也是公认最早的计算设备。世界范围来看，算盘最早发明于"美索不达米亚"，大约公元前2500年。在我国，最早可能在汉代萌芽，在南北朝时期定型。

人们制造算盘是因为社会的规模已经超出个人心算的能力，一个村庄可能有上千个人和上万头牛。

算盘利用进位制计数。使用时需要配合一套口诀——这口诀就好比计算机的软件。算盘本身还可以存储数字，使用时很方便。至今，算盘还在被使用。

它是用来帮助加减数字的手动计算器，它存储着当前的计算状态，类似于如今的硬盘。

感兴趣同学可以去搜一下算盘的使用方法，我们就不展开讲了。

![](media/15914075198259.jpg)

算盘在公元前2500年就有了，在接下来的4000年里，人类发明了各种巧妙的计算设备：

比如，星盘，让船只可以在海上计算纬度
比如，计算尺，帮助计算乘法和除法
比如，人们还创造了上百种时钟 算日出，潮汐，天体的位置，或纯粹拿来计时

这些设备，虽然我们多数人可能都没听过，没见过。但是对当时来说，每一种工具的发明让原先很费力的事变得更快，更简单，更精确 - 降低了门槛，加强了我们的能力

**记笔记!（敲黑板）这个系列会多次提到这一点**

计算机先驱 Charles Babbage 说过：

> "At each increase of knowledge, as well as on the contrivance of every new tool,human labour becomes abridged."
> "随着知识的增长和新工具的诞生，人工劳力会越来越少"

嗯，降低门槛，For Everyone。

## Computer一词的由来

然而，上面提过的那些设备我们可以称作是"计算工具"，但它们并不叫做"计算机"

最早使用"computer"一词的文献，来自1613年的一本书，作者Richard Braithwait
然而指的不是机器，而是一种职业。

Braithwait说：

> "I have read the truest computer of times,and the best arithmetician that ever breathed, and he reduceth thy dayes into a short number".
> "我听说过的计算者里最厉害的，能把好几天的工作量大大缩减"

可见，那时,"Computer"指负责计算的人。"计算工作者"偶尔会用机器帮忙，但大部分时候靠自己，这个职位一直到1800年代还存在(“ENIAC”于1946)。

在之后，"Computer"逐渐开始代表机器"devices"

带来这个变化的，是一系列计算机器的发明。

## 第一台真正的计算器

1623年，法国数学家帕斯卡出生，三岁丧母，后由担任税务官的父亲养大。在帕斯卡小时候，看到父亲费力的计算税率税款的时候，就想帮父亲做点事情。

19岁时（1642年），帕斯卡发明了人类有史以来第一台机械计算机——帕斯卡加法器。

它是一种系列齿轮组成的装置，外形像一个长方盒子，用儿童玩具那种钥匙旋紧发条后才能转动，只能够做加法和减法。

然而，即使只做加法，也有个“逢十进一”的进位问题。聪明的帕斯卡采用了一种小爪子式的棘轮装置。

当定位齿轮朝9转动时，棘爪便逐渐升高；一旦齿轮转到0，棘爪就“咔嚓”一声跌落下来，推动十位数的齿轮前进一档。
      
![](/media/15914326188768.jpg)

## 加减乘除的步进计算器

1662年帕斯卡去世，不久后。1672年的某一天，一位在德国**政坛**小有名气的年轻人受邀来访巴黎——一座大师荟萃的城市。身为**文科生**的他却误打误撞与几位大数学家成为了好友，从此闯进了理科的世界，没想到这一闯就掀起了历史的惊涛骇浪。

钻研数学期间，他渐渐发现：

> "... it is beneath the dignity of excellent men to waste their time in calculation when any peasant could do the work just as accurately with the aid of a machine."
> "...让一些杰出人才像奴隶般地把时间浪费在计算工作上，是不值得的"

于是，1694年，世界上第一台可以自动执行四则运算的机械式计算机诞生了。而这，几乎是他一生中最不值一提的成就之一。

他就是曾和艾萨克·牛顿争夺微积分发明权的大名鼎鼎·莱布尼茨。

事实上，莱布尼茨应该叫做博学家。研究了他老人家的生平，我觉得后面一定要写个莱布尼茨专篇。在这里，让我们先做个简单但正式的介绍：

> 戈特弗里德·威廉·莱布尼茨（Gottfried Wilhelm Leibniz 1646-1716），德国博学家、哲学家，历史上少见的通才，被誉为17世纪的亚里士多德。

莱布尼茨发明的新型计算机约有1米长，内部安装了一系列齿轮机构，除了体积较大之外，基本原理继承于帕斯卡。

不过，莱布尼茨技高一筹，他为计算机增添了一种名叫“步进轮”的装置。步进轮是一个有9个齿的长圆柱体，9个齿依次分布于圆柱表面；旁边另有个小齿轮可以沿着轴向移动，以便逐次与步进轮啮合。

每当小齿轮转动一圈，步进轮可根据它与小齿轮啮合的齿数，分别转动1/10、2/10圈……，直到9/10圈，这样一来，它就能够**连续重复地做加法**。同样的，做减法时，机器会反向运作，也可以做做连续减法。

直到今天，"连续重复的计算加减法”仍然是现代计算机做乘除法采用的办法，计算器真的不是直接就能口算出11*9=99。


## 可“编程”的提花编织机

计算机发展到现在还是人去操作机器，还没有实现人与机器的对话。有没有什么办法，能把人类的思想告诉机器，让机器按照人的想法去自动执行。这个话题，成为“人机对话”

说到实现人机对话，就要说一下另外一个行业——纺织业，并提到提花编织机。

提花编织机是具有升降纱线的提花装置，是一种能使绸布编织出图案花纹的织布机器。

最开始编织机编织图案相当费事。所有的绸布都是用经线（纵向线）和纬线（横向线）编织而成。若要织出花样，织工们必须细心地按照预先设计的图案，在适当位置“提”起一部分经线，以便让滑梭牵引着不同颜色的纬线通过。

机器当然不可能自己“想”到该在何处提线，只能靠人手“提”起一根又一根经线，不厌其烦地重复这种操作。

![](/media/15914326994218.jpg)

1725年：法国纺织机械师布乔发明了“穿孔纸带”的构想。布乔想出了一个“穿孔纸带”的绝妙主意。

布乔首先设法用一排编织针控制所有的经线运动，然后取来一卷纸带，根据图案打出一排排小孔，并把它压在编织针上。

启动机器后，正对着小孔的编织针能穿过去钩起经线，其它则被纸带挡住不动。于是，编织针自动按照预先设计的图案去挑选经线，布乔的“思想”“传递”给了编织机，编织图案的“程序”也就“储存”在穿孔纸带的小孔中。

1790年的时候法国机械师杰卡德，基本形成了改进提花机的构想，由于当时正是法国大革命时期，杰卡德为了参加革命，无暇顾及发明创造，直到1805年才真正完成”自动提花编织机“的制作。

杰卡德为他的提花机增加了一种装置，能够同时操纵 1200 个编织针，控制图案的穿孔纸带后来换成了穿孔卡片。

在后来电子计算机开始发展的最初几年中，在多款著名计算机中我们均能找到自动提花机的身影。

## 更便宜更快的计算表

莱布尼茨的步进计算机，是第一台能做"加减乘除"全部四种运算的机器。它的设计非常成功，以至于沿用了3个世纪。

不幸的是，即使有机械计算器，许多现实问题，依然需要很多步。算一个结果可能要几小时甚至几天。并且，第二方面，这些手工制作的机器非常昂贵，大部分人买不起。

所以在20世纪以前，大部分人会用预先算好的计算表，这些计算表由之前说的 "human computers"(人力计算器)编撰。如果你想知道8675309的平方根，与其花一整天来手摇"步进计算器"，你可以花一分钟在表里找答案。

在对计算这方面，军队始终是强需求。速度和准确性在战场上尤为重要，步进计算器跟不上需求，就主要依赖计算表了。

19世纪，一个主要的难题，就是如何的精确瞄准炮弹。

在当时，这些炮弹的射程可以达到1公里以上（比半英里多一点）。再加上，风力、温度、大气压力会不断变化，想打中1公里以外的船一样大的物体就非常困难。

于是出现了射程表，炮手可以查环境条件和射击距离。然后这张表会告诉他们，角度要设成多少。

## 计算之父与第一位程序员

这些射程表很管用，二战中被广泛应用。但它们的问题是如果改了大炮或炮弹的设计，就要算一张新表 这样很耗时而且会出错。

查尔斯·巴贝奇(Charles Babbage)在1822年写了一篇论文，向皇家天文学会指出了这个问题，标题叫：
> "Note on the application of machinery to the computation of astronomical and mathematical tables"——"机械在天文与计算表中的应用"

巴贝奇提出了一种新型机械装置叫"差分机"(the Difference Engine)，所谓“差分”的含义，是把函数表的复杂算式转化为差分运算，用简单的加法代替平方运算。那一年，刚满20岁的巴贝奇从法国人杰卡德发明的提花编织机上获得了灵感，差分机设计闪烁出了程序控制的灵光──它能够按照设计者的旨意，自动处理不同函数的计算过程。

多项式描述了几个变量之间的关系--比如射程和大气压力。多项式也可以用于计算对数和三角函数，这些函数在当时也是手算的，相当麻烦。

巴贝奇在1823年开始建造差分机。并在接下来二十年，试图制造和组装25,000 个零件，总重接近15吨 

不幸的是，该项目最终放弃了。但在 1991 年,历史学家根据巴贝奇的草稿做了一个差分机--而且它还管用！

但更重要的是，在差分机的建造期间巴贝奇构想了一个更复杂的机器 - 分析机(the Analytical Engine)

不像差分机、步进计算器，和更以前的其他计算设备，分析机是"通用计算机"
> ”a general purpose computer，one that could guide itself through a series of operations automatically,
> “一台可以自动完成一系列操作的计算机"

它可以做很多事情，不只是一种特定运算，甚至可以给它数据，然后按顺序执行一系列操作，它有内存，甚至一个很原始的打印机。

你可以想象下，同时代的已存机器，都是只能加减乘除的一堆齿轮。巴贝奇说要造一个“通用计算机”！这台机器太超前了，巴贝奇的这款分析机的命运，也跟差分机一样，没有建成。

然而，“计算机可以自动完成一系列操作",这种"自动计算机"的概念，是个跨时代的概念，预示着计算机程序的诞生。

可以说，分析机激励了第一代计算机科学家。这些计算机科学家，把很多巴贝奇的点子融入到他们的机器。所以巴贝奇经常被认为是"计算之父"。

说到分析机，不得不说巴贝奇的另一个同事，也是一代传奇人物了——阿达(Ada)

奥古斯塔·阿达·金(Augusta Ada King)，英国数学家，19世纪诗人拜伦的女儿，洛甫雷斯伯爵夫人。

由于进度缓慢，到1842年的时候，政府宣布停止对巴贝奇的一切资助，连科学界的有人都用一种怪异的目光看他。

然而在这个时候，巴贝奇收到了一封信，写信人不仅对他表示理解而且还希望与他共同工作。娟秀字体的签名表明了她不凡的身份——伯爵夫人。

与巴贝奇交流后，阿达非常准确地评价道：“分析机'编织’的代数模式同**杰卡德织布机**编织的花叶完全一样”。于是，为分析机编制一批函数计算程序的重担，落她的肩头。

阿达开天辟地第一回为计算机编出了程序(基于穿孔机)，其中包括计算三角函数的程序、级数相乘程序、伯努利函数程序等等。阿达编制的这些程序，即使到了今天，电脑软件界的后辈仍然不敢轻易改动一条指令。

阿达的工作证明了巴贝奇的分析器可以用于许多问题的求解。她甚至还建立了循环和子程序的概念，为计算程序拟定“算法”，写作了第一份“程序设计流程图”。

她曾说：
> "A new, a vast, and a powerful language is developed for the future use of analysis."
> "未来会诞生一门全新的，强大的，专为分析所用的语言"

由于她在程序设计上的开创性工作，Ada被称为世界上第一位程序员。

## 打孔卡片制表机

为了更合理地分配联邦资金/国会代表等等,美国宪法要求10年进行一次人口普查。而在19世纪末，因为大量移民的到来，使得美国人口迅速增长。给普查统计工作带来很大挑战。

在1880年，美国举行了一次全国性人口普查，为当时5000余万美国人登记造册。

当时在人口调查局从事统计工作的德国侨民 赫尔曼·霍列瑞斯博士(Herman Hollerith)静静地坐在他的办公室里，望着那汗牛充栋的人口登记册发愁。

人口普查需要做大量工作，如年龄、性别等用调查表做采集的项目，还要计算每个社区有多少老人、小孩，男人、女人等。据他的估算，分析这些千辛万苦收集到的数据，人口调查局至少要花费7年时间。也就是说，美国政府和公民们，几乎要到下一次人口普查时，才能得知这次普查的人口状况。

并且更要命的是，通过手摇计算机计算，到1890年，美国人口还将增加1200万，若按老办法统计，即使再添加人手，没有10年以上的功夫，是根本搞不出什么结果的(可宪法规定才10年啊)

霍列瑞斯博士就想用一种机器，能自动统计这些数据，帮助完成繁重的统计制表任务。

于是，他发明了打孔卡片制表机。这个机器是"电动机械的"-机器用打孔卡记录数据(一种纸卡，上面有网格)；用打孔来表示数据；用传统机械来计数,结构类似莱布尼茨的乘法器，但用电动结构连接其他组件。

举个例子，有一连串孔代表婚姻状况。如果你结婚了，就在"结婚"的位置打孔。这就完成了数据的记录与表示。

当卡插入机器时，小金属针会到卡片上,如果有个地方打孔了，针会穿过孔,泡入一小瓶汞，联通电路,电路会驱动电机,然后给"已婚"的齿轮+1。这就实现了机器的自动数据处理。

霍列瑞斯的机器速度是手动的10倍左右，使人口普查在短短两年半内完成，给人口普查办公室省了上百万美元。

自此以后，企业也开始意识到计算机的价值——它可以提升数据密集型任务的劳动力来提升利润，比如会计，保险评估和库存管理等行业。

为了满足越来越多企业的需求，霍列瑞斯成立了"制表机器公司(The Tabulating Machine Company)"，影响力甚至扩大到俄罗斯、加拿大和挪威等国。

然而，统计学家毕竟缺乏经商才干，他的公司不久便因资金周转不灵陷入窘境，只好任别人收购。经过几次改组，这家公司后来在1924年与其它机械制造商合并，成为了"国际商业机器公司(The International Business Machines Corporation)"，简称IBM-你可能听过IBM

虽然霍列瑞斯的发明并不是通用计算机，除了能统计数据制造表格外，制表机几乎没有别的什么用途，然而，制表机的穿孔卡第一次把数据转变成二进制信息。

在早期计算机系统里，这种用穿孔卡片输入数据的方法，一直沿用到20世纪70年代，数据处理也发展成为电脑的主要功能之一。霍列瑞斯也被称为数据处理之父。

杰卡德和霍列瑞斯，分别开创了程序设计和数据处理之先河。以历史的目光审视他们的发明，正是这种程序设计和数据处理，构成了电脑“软件”的雏形。

## 结尾

本文中，我们前面提到的所有的计算机都是机械的。这些电子机械的"商业机器"取得了巨大成功，极大的改变了商业和政府。

但是，社会发展总是会给技术提出更高的要求。到了1900年代中叶，世界人口的爆炸和全球贸易的兴起，要求更快，更灵活的工具来处理数据。

世界即将迎来电子计算机的时代。我们下节讨论！

参考文献：
1. 杨露斯, 黎炼. 论计算机发展史及展望[J]. 信息与电脑(理论版), 2010(06):194.
2. N.A.阿波京. 计算机发展史[M]. 11.
3. 别拿曾经看以后.《计算机发展历史》.新浪博客.2016 
4. CrashCourse/CrashCourse字幕组.《计算机科学速成课》.youtube.2018
5. 谌谦. 难以忘却的——计算机发展史[J]. 中国中医药现代远程教育, 2004(07):48-49.