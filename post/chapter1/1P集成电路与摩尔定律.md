## 集成电路与摩尔定律  

本集重点：晶圆的制作流程——光刻

* 分立元件(Discrete Components) 与 数字暴政
* 集成电路(Integrated Circuit) 与 仙童半导体
* 光刻技术：光刻Photolithography、晶圆Wafer、光刻胶 Photoresist、光掩膜Photomask、掺杂Doping  
* 摩尔定律  Moore’s Law.  
* 英特尔   Intel  
* 晶体管数量大幅度增长, 1980年三万个，1990年一百万个，2000年三千万个，2010年十亿个  
* 进一步小型化会碰到2个问题：1.光的波长不足以制作更精细的设计  2.量子隧穿效应  


嗨，我是老乔，欢迎收看计算机科学速成课！

我们现在的手机能看电视，你能打开我的文章，如果没有硬件的大幅度进步，软件是不可能做到这些的，为了体会硬件性能的爆炸性增长，我们要回到电子计算机的诞生年代：

##晶体管仍然有缺陷

上期我们介绍的各种机器，集中在大约1940年代~1960年代中期这段时间里。这些计算机都由独立部件组成，叫"分立元件"，然后不同组件再用线连在一起。举例, ENIAC，有1万7千多个真空管,7万个电阻，1万个电容器，7千个二极管，5百万个手工焊点。

如果想提升性能，就要加更多部件，这导致更多电线，制作一台计算机会更复杂。工程师管这个问题叫“数字暴政”(the Tyranny of Numbers)

1950年代中期，晶体管开始商业化（市场上买得到），开始用在计算机里 晶体管比电子管更小更快更可靠，但晶体管依然是分立元件。

1959年，IBM把709计算机从原本的电子管，全部换成晶体管诞生的新机器IBM7090，速度快6倍，价格只有一半。

晶体管标志着"计算 2.0 时代"的到来 虽然更快更小 但晶体管的出现 还是没有解决"数字暴政"的问题

有几十万个独立元件的计算机不但难设计，而且难生产 1960 年代，这个问题的严重性达到顶点，电脑内部常常一大堆电线缠绕在一起。看看这个 1965 年 PDP-8 计算机的内部

## IC的出现

解决办法是引入一层新抽象，封装复杂性

突破性进展在 1958 年  当时Jack Killby在德州仪器工作，演示了一个电子部件："电路的所有组件都集成在一起"。简单说就是：与其把多个独立部件用电线连起来，拼装出计算机

我们把多个组件包在一起，变成一个新的独立组件 这就是 集成电路（IC）

Kilby用锗来做集成电路，其问题主要就是 锗很稀少而且不稳定

几个月后，在1959年 Robert Noyce 的仙童半导体  让集成电路变为现实
在材料问题上，仙童半导体公司用硅  硅的蕴藏量丰富，占地壳四分之一 也更稳定可靠

顺便一提，仙童半导体公司位于 仙童公司所在地，之后有很多半导体企业都出现在硅谷。
所以 Noyce 被公认为现代集成电路之父。他开创了电子时代，创造了硅谷。

## IC变成PCB

起初，一个IC只有几个晶体管，例如这块早期样品，由西屋公司制造(还记得上文说的发明马克一号的艾肯么)。

即使只有几个晶体管，也可以把简单电路，第 3 集的逻辑门，能封装成单独组件

IC就像电脑工程师的乐高积木 可以组合出无数种设计 但最终还是需要连起来，创造更大更复杂的电路，比如整个计算机

所以工程师们再度创新：印刷电路板，简称PCB

PCB可以大规模生产，无需焊接或用一大堆线.它通过蚀刻金属线的方式，把零件连接到一起把 PCB和IC结合使用，可以大幅减少独立组件和电线，但做到相同的功能，而且更小，更便宜，更可靠。三赢！

许多早期IC都是把很小的分立元件 封装成一个独立单元，例如这块 1964 年的IBM样品

不过，即使组件很小 塞5个以上的晶体管还是很困难

为了实现更复杂的设计，需要全新的制作工艺 "光刻"登场！
简单说就是用光把复杂图案印到材料上，比如半导体

它只有几个基础操作，但可以制作出复杂电路

下面用一个简单例子，来做一片这个！

我们在第 2 集讨论过 硅很特别，它是半导体 它有时导电，有时不导电 我们可以控制导电时机 所以硅是做晶体管的绝佳材料

我们从一片硅开始，叫"晶圆"  长得像薄饼干一样 美味！
我们可以用晶圆做基础 把复杂金属电路放上面，集成所有东西
非常适合做.. 集成电路!

下一步是在硅片顶部  加一层薄薄的氧化层, 作为保护层

然后加一层特殊化学品, 叫 "光刻胶" 光刻胶被光照射后 会变得可溶 可以用一种特殊化学药剂洗掉

单单光刻胶本身，并不是很有用 但和"光掩膜"配合使用会很强大

光掩膜就像胶片一样，只不过不是 吃墨西哥卷饼的可爱仓鼠，而是要转移到晶圆上的图案

把光掩膜盖到晶圆上，用强光照射 挡住光的地方，光刻胶不会变化

光照到的地方，光刻胶会发生化学变化 洗掉它之后，暴露出氧化层

用另一种化学物质 - 通常是一种酸 可以洗掉"氧化层"露出的部分, 蚀刻到硅层

注意，氧化层被光刻胶保护住了.为了清理光刻胶，我们用另一种化学药品洗掉它
是的，光刻法用很多化学品，每种都有特定用途

现在硅又露出来了 我们想修改硅露出来的区域  让它导电性更好 所以用一种化学过程来改变它，叫"掺杂" 不是开玩笑！我们继续

"掺杂" 通常用高温气体来做，比如磷 渗透进暴露出的硅，改变电学性质 半导体的具体物理和化学性质我们不会深究,如果你感兴趣，描述里有个视频链接(视频制作者是 Derek Muller 他的频道叫 Veritasium)

但我们还需要几轮光刻法 来做晶体管

过程基本一样，先盖氧化层，再盖光刻胶

然后用新的光掩膜，这次图案不同 在掺杂区域上方开一个缺口洗掉光刻胶
然后用另一种气体掺杂  把一部分硅转成另一种形式
为了控制深度，时机很重要 我们不想超过之前的区域

现在 所有需要的组件都有了
最后一步，在氧化层上做通道 \N 这样可以用细小金属导线，连接不同晶体管

再次用光刻胶和光掩膜  蚀刻出小通道

现在用新的处理方法 叫"金属化" 放一层薄薄的金属，比如铝或铜

但我们不想用金属盖住所有东西 我们想蚀刻出具体的电路

所以又是类似的步骤 \N 用光刻胶+光掩膜，然后溶掉暴露的光刻胶，暴露的金属

咻~ 晶体管终于做好了！ \N 它有三根线，连接着硅的三个不同区域

每个区域的掺杂方式不同，这叫双极型晶体管

这个 1962 年的真实专利，永远改变了世界

用类似步骤，光刻可以制作其他电子元件 \N 比如电阻和电容，都在一片硅上
而且互相连接的电路也做好了
再见了，分立元件！

之前的例子 只做了一个晶体管，但现实中 \N 光刻法一次会做上百万个细节
芯片放大是这样的，导线上下交错，连接各个元件

尽管可以把光掩膜投影到一整片晶圆上 \N 但光可以投射成任意大小
就像投影仪可以投满荧幕一样

我们可以把光掩膜 \N 聚焦到极小的区域，制作出非常精细的细节
一片晶圆可以做很多 IC \N 整块都做完后，可以切割然后包进微型芯片

一片晶圆可以做很多 IC \N 整块都做完后，可以切割然后包进微型芯片
微型芯片就是在电子设备中那些小长方体
记住，芯片的核心都是一小片 IC

随着光刻技术发展，晶体管变小  密度变高 1960 年代初，IC 很少超过 5 个晶体管，因为塞不下 但 1960 年代中期 \N 市场上开始出现超过 100 个晶体管的 IC

1965年，戈登·摩尔Gordon Moore看到了趋势：

> that approximately every two years, thanks to advances in materials and manufacturing, you could fit twice the number of transistors into the same amount of space.
> 每两年左右，得益于材料和制造技术的发展 \N 同样大小的空间，能塞进两倍数量的晶体管！

这叫 摩尔定律Moore’s Law 然而这个名字不太对 因为它不是定律，只是一种趋势

但它是对的

芯片的价格也急剧下降 1962年平均50美元，下降到1968年2美元左右
如今 几美分就能买到 IC

晶体管更小密度更高 还有其他好处
晶体管越小，要移动的电荷量就越少 能更快切换状态  耗电更少

电路更紧凑 还意味着信号延迟更低 \N 导致时钟速度更快

1968年，仙童半导体的创始人罗伯特·诺伊斯Robert Noyce 和 戈登·摩尔Gordon Moore 联手成立了一家新公司 结合 Intergrated(集成) 和 Electronics(电子) 两个词
取名 Intel， 如今最大的芯片制造商

Intel 4004 CPU, 在第 7, 8 集介绍过 \N 是个重要里程碑
发布于1971年 \N 是第一个用 IC 做的处理器，也叫微型处理器

因为真的非常小！

它有2300个晶体管

人们惊叹于它的整合水平 \N 整个 CPU 在一个芯片里
而仅仅 20 年前，用分立元件会占满整个屋子
集成电路的出现 \N 尤其是用来做微处理器，开启了计算 3.0



而 Intel 4004 只是个开始，CPU 晶体管数量爆发增长
1980年，3 万晶体管 \N  1990年，100 万晶体管
2000年，3000 万个晶体管
2010年，10亿个晶体管！\N 在一个芯片里！我的天啊！

为了达到这种密度，光刻的分辨率 \N 从大约一万纳米，大概是人类头发直径的 1/10
发展到如今的 14 纳米 \N 比血红细胞小 400 倍！
当然，CPU 不是唯一受益的元件
大多数电子器件都在指数式发展：\N 内存，显卡，固态硬盘，摄像头感光元件，等等
如今的处理器，比如 iPhone 7 的 A10 CPU \N 有33亿个晶体管
面积仅有 1cm x 1cm，比一张邮票还小
现代工程师设计电路时，当然不是手工一个个设计晶体管 \N 这不是人力能做到的

1970年代开始，超大规模集成(VLSI)软件 \N 用来自动生成芯片设计

用比如 "逻辑综合" 这种技术 \N 可以放一整个高级组件，比如内存缓存
软件会自动生成电路，做到尽可能高效
许多人认为这是计算 4.0 的开始

坏消息是，专家们几十年来 \N 一直在预言摩尔定律的终结 现在可能终于接近了

进一步做小，会面临 2 个大问题

1. 用光掩膜把图案弄到晶圆上 \N 因为光的波长，精度已达极限 所以科学家在研制波长更短的光源，投射更小的形状
2. 当晶体管非常小，电极之间可能只距离几个原子 \N 电子会跳过间隙，这叫：量子隧穿效应 如果晶体管漏电，就不是好开关 科学家和工程师在努力找解决方法

实验室中已造出小至1纳米的晶体管 能不能商业量产依然未知，未来也许能解决

好了，我们从"继电器"到"真空管"到"晶体管"到“集成电路”到“大规模集成电路”了

我们可以让电路开闭得非常非常快 但我们是如何用晶体管做计算的？ 我们没有马达和齿轮啊？

这个问题，我们接下来几集会讲

我非常期待！下周见！